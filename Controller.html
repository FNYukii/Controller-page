<!DOCTYPE html>
<html lang="ja">
  <head>
      <meta charset="UTF-8">
      <title>ラジコン コントローラー</title>
      <style>
        body {
          background-color: #333333;
          transition: 0.5s;
        }

        /* リモコン全体 */
        .controller {
          width: 350px;
          height: 500px;
          margin: 30px auto;

          background-color: #333333;
          border: 2px solid white;
          border-radius: 10px;
        }

        /* 見出し部分 */
        .heading {
          color: #FFF;
          text-align: center;
        }

        /* 行動表示ディスプレイ */
        .display {
          width: 300px;
          height: 30px;
          margin: auto;

          color: #00bfff;
          text-align: center;
          font-size: 20px;

          border: 2px solid #00bfff;
          border-radius: 5px;
        }

        /* ボタンたちに対するスタイル */
        .buttons-container {
          width: 300px;
          height: 300px;

          border: 2px solid #00bfff;
          border-radius: 5px;

          margin: 30px auto;
          padding: 5px 5px;
        }
        .buttons {
          width: 300px;
          height: 300px;
          margin: auto;

          flex-wrap: wrap;
          display: flex;
        }
        
        /* ボタンのスタイル */
        .button {
          width: 96px;
          height: 96px;
          margin: 2px;

          color: #00bfff;
          font-size: 20px;

          background-color: transparent;
          border: 2px solid #00bfff;
          border-radius: 5px;
        }
        .button:hover {
          color: lime;
          border: 2px solid lime;
        }
        .button:active {
          color: red;
          border: 2px solid red;
        }
        .button:focus {
          outline: 0;
        }

        /* 各キーが押されている間、対応したボタンを赤色にする */
        .redButton {
          color: red;
          border: 2px solid red;
        }
        
        /* ライトテーマ関連 */
        .light-themeButton {

        }
        .light-body {
          background-color: skyblue;
        }
        .light-controller {
          background-color: orange;
        }
        .light-display {
          background-color: #FFF;
          border: 2px solid transparent;
          color: rgb(44, 44, 44);
        }
        .light-buttons-container {
          background-color: #FFF;
          border: 2px solid #FFF;
        }

      </style>
  </head>
  <body>

    <!-- リモコン全体 -->
    <div class="controller" id="controller">

      <!-- タイトル部分 -->
      <div class="heading">
        <h1>リモコン</h1>
      </div>

      <!-- ディスプレイ部分 -->
      <div class="display" id="display">
        <p></p>
      </div>

      <!-- キーパッド部分 -->
      <div class="buttons-container" id="buttons-container">

        <div class="buttons"> 
          <input type="button" class="button"></button>
          <input type="button" class="button" id="go" value="前進" onclick="goClick();"></button> <!-- ボタンを押すと、関数「goClick()」が起動する -->
          <input type="button" class="button"></button>
        
          <input type="button" class="button" id="left" value="左折" onclick="leftClick();"></button>
          <input type="button" class="button" id="back" value="後退" onclick="backClick();"></button>
          <input type="button" class="button" id="right" value="右折" onclick="rightClick();"></button>
        
          <input type="button" class="button" id="stop" value="停止" onclick="stopClick();"></button>
          <input type="button" class="button" id="themeButton" value="☆" onclick="themeClick();"></button>
          <input type="button" class="button" id="street" value="まっすぐ" onclick="streetClick();"></button>
        </div>

      </div><!-- キーパッド部分おしまい -->
      
    </div> <!-- リモコン全体おしまい -->
   
    
    <script>

      //キーを押した時を検知する
      document.addEventListener('keydown', handleKeydown);

      function handleKeydown(event){
        let keyName = event.key;

        if (keyName === 'w') {
          document.getElementById("go").click(); //JavaScriptによってgoボタンが押される
          wPush();                              //goボタンを赤色にする関数「wPush()」を実行
        }else if(keyName === 'a'){
          document.getElementById("left").click();
          aPush();
        }else if(keyName === 's'){
          document.getElementById("back").click();
          sPush();
        }else if(keyName === 'd'){
          document.getElementById("right").click();
          dPush();
        }else if(keyName === 'z'){
          document.getElementById("stop").click();
          zPush();
        }else if(keyName === 'x'){
          document.getElementById("themeButton").click();
          xPush();
        }else if(keyName === 'c'){
          document.getElementById("street").click();
          cPush();
        }
      }
      

      //キーを離した時を検知する
      document.addEventListener("keyup", handleKeyup);

      function handleKeyup(event){
        let keyName = event.key;
        
        if (keyName === 'w') {
          wPush();
        }else if(keyName === 'a'){
          aPush();
        }else if(keyName === 's'){
          sPush();
        }else if(keyName === 'd'){
          dPush();
        }else if(keyName === 'z'){
          zPush();
        }else if(keyName === 'c'){
          cPush();
        }
      }

      
      
      //各キーボードを押してる間、対応したボタンにスタイル「red」を適用する。
      function wPush(){
        document.getElementById("go").classList.toggle('redButton');
      }
      function aPush(){
        display.textContent = '左折';
        document.getElementById("left").classList.toggle('redButton');
      }
      function sPush(){
        display.textContent = '後退';
        document.getElementById("back").classList.toggle('redButton');
      }
      function dPush(){
        display.textContent = '右折';
        document.getElementById("right").classList.toggle('redButton');
      }
      function zPush(){
        display.textContent = '停止';
        document.getElementById("stop").classList.toggle('redButton');
      }
      function cPush(){
        display.textContent = 'まっすぐ';
        document.getElementById("street").classList.toggle('redButton');
      }



      //各ボタンがクリックされたとき、ディスプレイに行動内容を表示する
      const display = document.querySelector('.display');

      function goClick(){
        display.textContent = '前進';
      }
      function leftClick(){
        display.textContent = '左折';
      }
      function backClick(){
        display.textContent = '後退';
      }
      function rightClick(){
        display.textContent = '右折';
      }
      function stopClick(){
        display.textContent = '停止';
      }
      function streetClick(){
        display.textContent = 'まっすぐ';
      }


      //themeボタンが押されたときは、ライトテーマ切り替え
      function themeClick(){
        document.getElementById("themeButton").classList.toggle("light-themeButton");
        document.body.classList.toggle("light-body");
        document.getElementById("controller").classList.toggle("light-controller");
        document.getElementById("display").classList.toggle("light-display");
        document.getElementById("buttons-container").classList.toggle("light-buttons-container");
      }

    </script>

  </body>

</html>